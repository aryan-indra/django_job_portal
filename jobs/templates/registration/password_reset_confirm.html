{% extends 'jobs/base.html' %}

{% block title %}Set new password - HustleHive{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full bg-white rounded-xl shadow p-8">
        {% if validlink %}
        <h1 class="text-2xl font-bold mb-4">Set a new password</h1>
        <form method="post">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <label class="block text-sm font-medium text-gray-700 mb-2">New password</label>
            {{ form.new_password1|add_class:'w-full px-4 py-3 border border-gray-300 rounded-lg mb-4' }}
            <label class="block text-sm font-medium text-gray-700 mb-2">Confirm new password</label>
            {{ form.new_password2|add_class:'w-full px-4 py-3 border border-gray-300 rounded-lg mb-6' }}
            <button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold">Change password</button>
        </form>
        {% else %}
        <h1 class="text-2xl font-bold mb-4">Invalid or expired link</h1>
        <p class="text-gray-600">Please request a new password reset.</p>
        {% endif %}
    </div>
    <script>
        (function(){
            var p1=document.getElementById('id_new_password1');
            var p2=document.getElementById('id_new_password2');
            if(p1)p1.className='w-full px-4 py-3 border border-gray-300 rounded-lg mb-4';
            if(p2)p2.className='w-full px-4 py-3 border border-gray-300 rounded-lg mb-6';
        })();
    </script>
</div>
{% endblock %}

